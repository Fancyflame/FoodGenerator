<!DOCTYPE HTML>
<html>
  <head>
    <meta content="text/html; charset=utf-8" http-equiv="content-type"/>
    <title>untitled</title>
  </head>
  <body>
    <noscript>
      <mark color="red">此浏览器不支持JavaScript，请使用其它浏览器！</mark>
    </noscript>
    <textarea id="t"></textarea>
    <input type="button" id="b" value="生成" onclick="spawn()">
    <style>
      html,body{
        height:100%;
        margin:0;
      }
      #t{
        height:80%;
        width:100%;
        font-size:50px;
        border:5px solid black;
      }
      #b{
        height:8%;
        width:100%;
        font-size:50px;
      }
    </style>
    <script>
      var spawnTimes=0;
      var lastlth;
      function spawn(isalert){
        spawnTimes++;
        if(spawnTimes==15){
          alert("您已经是随机食物的铁杆粉了，为什么不"+
          "坐下来，放松一下心情，来一碗"+spawn(true)+"呢？");
        }else if(spawnTimes==25){
          alert("菜谱都要给您翻到底了，我们诚心推荐您试试"+
          spawn(true)+"，真的营养又健康");
        }else if(spawnTimes>=30&&spawnTimes%10==0){
          let u=confirm("看来我们大酒楼还是无法满足老板您的欲望，"+
            "您可以试试"+spawn(true)+"，我敢保证这一定能满足您");
          if(u)alert("吃个屁");
        }
        lastlth=null;
        try{
        function rnd(obj){
          return obj[Math.floor(Math.random()*obj.length)]
        }
        var t=document.getElementById("t");
        var p="";
        for(var i in arr_){
          var item=arr_[i];
          var grm=/\?/.test(item);
          item=item.replace("?","");
          var range;
          if(grm&&lastlth){
            function rg(num){
              let m=objl[arr_[i]][num];
              return m?m:[]
            }
            let a=rg(lastlth-2).concat(rg(lastlth-1),rg(lastlth));
            range=a;
          }else{
            let a=[];
            let b=objl[arr_[i]]
            for(var ii in b)
              a=a.concat(b[ii])
            range=a;
          }
          if(range.length==0){
            spawn();
            return;
          }
          let u=rnd(range);
          lastlth=u.length;
          p+=u;
        }
        if(!isalert)
          t.value=p;
        else return p;
        }catch(err){alert(err)}
      }
      const objl={"ctr":[[],["亚洲","中国","蒙古","朝鲜","韩国","日本","越南","老挝","缅甸","泰国","文莱","不丹","印度","伊朗","巴林","阿曼","也门","约旦","欧洲","冰岛","丹麦","挪威","瑞典","芬兰","波兰","捷克","德国","瑞士","荷兰","英国","法国","波黑","黑山","希腊","非洲","埃及","马里","加纳","多哥","贝宁","乍得","中非","苏丹","刚果","加蓬","南非","斐济","瑙鲁","纽埃","帕劳","汤加","美国","古巴","海地","秘鲁","巴西","智利"],["柬埔寨","新加坡","菲律宾","东帝汶","尼泊尔","阿富汗","科威特","卡塔尔","阿联酋","伊拉克","叙利亚","黎巴嫩","以色列","土耳其","俄罗斯","乌克兰","立陶宛","匈牙利","奥地利","比利时","卢森堡","爱尔兰","摩纳哥","安道尔","西班牙","葡萄牙","意大利","梵蒂冈","马耳他","马其顿","科索沃","利比亚","突尼斯","摩洛哥","冈比亚","佛得角","几内亚","尼日尔","喀麦隆","吉布提","索马里","肯尼亚","乌干达","卢旺达","布隆迪","圣多美","安哥拉","赞比亚","马拉维","科摩罗","塞舌尔","莱索托","大洋州","新西兰","图瓦卢","萨摩亚","北美洲","加拿大","墨西哥","伯利兹","巴拿马","巴哈马","牙买加","圣基茨","尼维斯","安提瓜","巴布达","多巴哥","南美洲","圭亚那","苏里南","阿根廷","巴拉圭","乌拉圭"],["马来西亚","孟加拉国","斯里兰卡","马尔代夫","巴基斯坦","巴勒斯坦","塞浦路斯","亚美尼亚","阿塞拜疆","格鲁吉亚","白俄罗斯","摩尔多瓦","爱沙尼亚","拉脱维亚","圣马力诺","克罗地亚","斯洛伐克","塞尔维亚","罗马尼亚","保加利亚","塞内加尔","塞拉里昂","利比里亚","科特迪瓦","尼日利亚","坦桑尼亚","普林西比","莫桑比克","毛里求斯","津巴布韦","博茨瓦纳","纳米比亚","斯威士兰","澳大利亚","瓦努阿图","基里巴斯","危地马拉","萨尔瓦多","洪都拉斯","尼加拉瓜","圣卢西亚","圣文森特","巴巴多斯","格林纳达","特立尼达","哥伦比亚","委内瑞拉","厄瓜多尔","玻利维亚"],["印度尼西亚","沙特阿拉伯","哈萨克斯坦","塔吉克斯坦","土库曼斯坦","列支敦士登","斯洛文尼亚","阿尔巴尼亚","阿尔及利亚","毛里塔尼亚","布基纳法索","几内亚比绍","赤道几内亚","埃塞俄比亚","马达加斯加","厄立特里亚","所罗门群岛","马绍尔群岛","哥斯达黎加","多米尼克国","格林纳丁斯"],["乌兹别克斯坦","吉尔吉斯斯坦","密克罗尼西亚"],["巴布亚新几内亚","多米尼加共和国"]],"adj":[["炖","煲","烤","炸","煎","炒","冰","卤","焖","醉"],["猥琐","难闻","粘稠","发霉","霉烂","生锈","醋溜","麻辣","咸味","油腻","过期","变质","酸味","爆辣","微辣","苦味","长毛","扭曲","破损","斑点","变异","长虫","甜味","糖醋","清蒸","干蒸","腐烂","水煮","烘焙","烧焦","掉漆","硬化","融化","熔融","冒烟","生切","魔幻","硅胶","铁质","黄金","钻石","穿孔","发臭","烟熏","腌制","发酵","粉状","袋装","酸臭","腐败","膨化","多汁","苏打","长刺","黑暗","红热","弹性","易燃","落灰","养生","益气","活血","健脾","养胃","止咳","化痰","延年","益寿","私房","密制","酱香","香醇","飘香","油泼","爆炒","盐焗","红烧","拔丝","油煎","打卤","酱爆"],["七分熟","劲爆辣"],["半生不熟"]],"?seasoning":[[],["拖鞋","拖把","扫把","美元","英镑","欧元","盾牌","螺母","塑料","沙发","轮椅","转椅","毛笔","电话","花圃","栅栏","沥青","铁门","冰箱","马桶","鞋拔","鼻毛","腿毛","头发","牙刷","牙膏","毛巾","电池","电瓶","火柴","钻头","排插","木炭","氨气","大粪","化肥","尿素","台灯","吊灯","水笔","铅笔","手机","电脑","轮胎","毛衣","皮鞋","凉鞋","菜刀","背心","蚊帐","蚊香","蚂蚱","知了","蚂蚁","鸵鸟","蜣螂","蟑螂","家鼠","水蛇","米虫","蠹虫","蜘蛛","飞蛾","苍蝇","马蜂","蜜蜂","松鼠","仓鼠","鼹鼠","土狗","疯猫","鼠妇","霉菌","菌丝","镊子","烧杯","漏斗","滤纸","乙炔","导管","试管","水管","水槽","皮球","篮球","桌球","网球","棒球","足球","棉签","棉花","绷带","碘酒","碘伏","剪刀","陶罐","音响","腋毛","肥皂","转盘","筷子","棉袜","棉鞋","雨伞","齿轮","兔绒","羽毛","硬币","别针","骰子","麻将","钥匙","尺子","天平","口红","手枪","蝴蝶","蜻蜓","蝎子","吸虫","珊瑚","绦虫","蚓螈","藤壶","水蚤","水蛭","蜈蚣","蝗虫","垃圾","吸管"],["水果刀","指甲刀","螺丝钉","螺丝刀","卫生纸","纸屑篓","果皮箱","垃圾桶","易拉罐","冰棒棍","纱窗网","电蚊拍","防盗网","风油精","餐巾纸","电动车","集装箱","热水器","洗衣机","打火机","打印纸","打印机","起钉器","订书机","订书钉","椰子皮","作业本","便签贴","创可贴","磨砂纸","核废料","保险柜","床头灯","荧光笔","快递盒","方向盘","变速箱","离合器","手术刀","足球鞋","篮球鞋","数据线","卷笔刀","竹节虫","竹叶青","松毛虫","噬菌体","培养基","显微镜","玻璃棒","酒精灯","高压锅","容量瓶","锥形瓶","乒乓球","羽毛球","橄榄球","烘衣机","电吹风","皮搋子","瓦楞纸","指甲盖","钢丝球","沐浴露","洗发露","护发素","痱子粉","有机肥","独轮车","打气筒","刹车片","排气管","回形针","大头针","保龄球","U型锁","纤毛虫","肉足虫"],["矿泉水瓶","安全气囊","大肠杆菌","圆底烧瓶","金丝楠木"],[],["白色念珠球菌","金色葡萄球菌","幽门螺旋杆菌"]],"?food":[["饭","面","煲","羹","汤","糕","粉"],["粉干","火锅","包子","馒头","面包","蛋糕","饼干","豆腐","花卷","拼盘","肉酱","沙拉","香肠","拌面","拉面","炒面","炖罐","串串","粽子","雪糕","冰棒","锅边","饺子","夹馍","辣条","果冻","寿司","手卷","汤圆","鱼丸","意面","芝士","甜点","糊糊","豆浆","汉堡","烧麦","线面","捞化","面筋"],["冰淇淋","佛跳墙","消食片","巧克力","西米露","全家桶"]]};
      const arr_=["ctr","adj","?seasoning","?food"];
    </script>
  </body>
</html>
